<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <link href="styles/js-console.css" rel="stylesheet" />  
    <!--Write a function that groups an array of persons by age, first or last name. The function must return an associative array, with keys - the groups, and values -arrays with persons in this groups
Use function overloading (i.e. just one function)
-->     
</head>
<body>        
    <div id="js-console"></div>        
    <script src="scripts/js-console.js"></script>
    <script>

        //smth like constructor
        function Person(firstName, lastName, age) {
            return {
                firstName: firstName,
                lastName: lastName,
                age: age,
                toString: function toStr() {
                    return 'Name: ' + this.firstName + ' ' + this.lastName + ' Aged: ' + this.age;
                }
            }
        }
        function group(arr, condition) {
        var result = {};
        switch (condition) {
            case 'firstName':
                for (var i = 0; i < arr.length; i++) {
                    if (!result[arr[i].firstName]) {
                        result[arr[i].firstName] = [];
                        result[arr[i].firstName].push(arr[i]);
                    }
                    else {
                        result[arr[i].firstName].push(arr[i]);
                    }
                }                    
                break;
            case 'lastName':
                for (var i = 0; i < arr.length; i++) {
                    if (!result[arr[i].lastName]) {
                        result[arr[i].lastName] = [];
                        result[arr[i].lastName].push(arr[i]);
                    }
                    else {
                        result[arr[i].lastName].push(arr[i]);
                    }
                }
                break;
            case 'age':
                for (var i = 0; i < arr.length; i++) {
                    if (!result[arr[i].age]) {
                        result[arr[i].age] = [];
                        result[arr[i].age].push(arr[i]);
                    }
                    else {
                        result[arr[i].age].push(arr[i]);
                    }
                }
                break;
            default:

        }

        return result;

        }
       
        //array of persons
        var persons = [];
        persons.push(new Person('Penio', 'Penev', 91));
        persons.push(new Person('Garo', 'Garov', 71));
        persons.push(new Person('Panayot', 'Panayotov', 68));
        persons.push(new Person('Koce', 'Laptopa', 30));
        persons.push(new Person('Gosho', 'Ginchev', 39));
        persons.push(new Person('Nasko', 'Sirakov', 61));
        persons.push(new Person('Gundi', 'Lapadundi', 47));

         function printResult(obj) {
            for (var i in obj) {

                jsConsole.write(i + ' -->');
                jsConsole.writeLine(obj[i].join('|'))
                jsConsole.writeLine('--------')
            }
        }

        var groupedByAge = group(persons, 'age');
        printResult(groupedByAge);
    </script>
</body>
</html>